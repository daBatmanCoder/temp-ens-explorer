"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[293],{2293:(t,e,r)=>{r.r(e),r.d(e,{default:()=>V});var o=r(7876),n=r(4232),i=r(1626),a=r(6390),l=r.n(a),s=r(9570),d=r(4681),c=r(9558),m=r(2783),h=r(6603);let u=new c.Vy(m.r),f={},g=h.gH.from(0),w=h.gH.from(-1);function p(t,e,r,o){let n={fault:e,operation:r};return void 0!==o&&(n.value=o),u.throwError(t,c.Vy.errors.NUMERIC_FAULT,n)}let x="0";for(;x.length<256;)x+=x;function b(t){if("number"!=typeof t)try{t=h.gH.from(t).toNumber()}catch(t){}return"number"==typeof t&&t>=0&&t<=256&&!(t%1)?"1"+x.substring(0,t):u.throwArgumentError("invalid decimal size","decimals",t)}function v(t,e){null==e&&(e=0);let r=b(e),o=(t=h.gH.from(t)).lt(g);o&&(t=t.mul(w));let n=t.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];let i=t.div(r).toString();return t=1===r.length?i:i+"."+n,o&&(t="-"+t),t}function y(t,e){null==e&&(e=0);let r=b(e);"string"==typeof t&&t.match(/^-?[0-9.]+$/)||u.throwArgumentError("invalid decimal value","value",t);let o="-"===t.substring(0,1);o&&(t=t.substring(1)),"."===t&&u.throwArgumentError("missing value","value",t);let n=t.split(".");n.length>2&&u.throwArgumentError("too many decimal points","value",t);let i=n[0],a=n[1];for(i||(i="0"),a||(a="0");"0"===a[a.length-1];)a=a.substring(0,a.length-1);for(a.length>r.length-1&&p("fractional component exceeds decimals","underflow","parseFixed"),""===a&&(a="0");a.length<r.length-1;)a+="0";let l=h.gH.from(i),s=h.gH.from(a),d=l.mul(r).add(s);return o&&(d=d.mul(w)),d}class E{constructor(t,e,r,o){t!==f&&u.throwError("cannot use FixedFormat constructor; use FixedFormat.from",c.Vy.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=r,this.decimals=o,this.name=(e?"":"u")+"fixed"+String(r)+"x"+String(o),this._multiplier=b(o),Object.freeze(this)}static from(t){if(t instanceof E)return t;"number"==typeof t&&(t=`fixed128x${t}`);let e=!0,r=128,o=18;if("string"==typeof t)if("fixed"===t);else if("ufixed"===t)e=!1;else{let n=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);n||u.throwArgumentError("invalid fixed format","format",t),e="u"!==n[1],r=parseInt(n[2]),o=parseInt(n[3])}else if(t){let n=(e,r,o)=>null==t[e]?o:(typeof t[e]!==r&&u.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e]);e=n("signed","boolean",e),r=n("width","number",r),o=n("decimals","number",o)}return r%8&&u.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),o>80&&u.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",o),new E(f,e,r,o)}}class k{constructor(t,e,r,o){t!==f&&u.throwError("cannot use FixedNumber constructor; use FixedNumber.from",c.Vy.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=o,this._hex=e,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&u.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);let e=y(this._value,this.format.decimals),r=y(t._value,t.format.decimals);return k.fromValue(e.add(r),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);let e=y(this._value,this.format.decimals),r=y(t._value,t.format.decimals);return k.fromValue(e.sub(r),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);let e=y(this._value,this.format.decimals),r=y(t._value,t.format.decimals);return k.fromValue(e.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);let e=y(this._value,this.format.decimals),r=y(t._value,t.format.decimals);return k.fromValue(e.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){let t=this.toString().split(".");1===t.length&&t.push("0");let e=k.from(t[0],this.format),r=!t[1].match(/^(0*)$/);return this.isNegative()&&r&&(e=e.subUnsafe(A.toFormat(e.format))),e}ceiling(){let t=this.toString().split(".");1===t.length&&t.push("0");let e=k.from(t[0],this.format),r=!t[1].match(/^(0*)$/);return!this.isNegative()&&r&&(e=e.addUnsafe(A.toFormat(e.format))),e}round(t){null==t&&(t=0);let e=this.toString().split(".");if(1===e.length&&e.push("0"),(t<0||t>80||t%1)&&u.throwArgumentError("invalid decimal count","decimals",t),e[1].length<=t)return this;let r=k.from("1"+x.substring(0,t),this.format),o=_.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(o).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(t){if(null==t)return this._hex;t%8&&u.throwArgumentError("invalid byte width","width",t);let e=h.gH.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return(0,d.bj)(e,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return k.fromString(this._value,t)}static fromValue(t,e,r){return null!=r||null==e||(0,h.YR)(e)||(r=e,e=null),null==e&&(e=0),null==r&&(r="fixed"),k.fromString(v(t,e),E.from(r))}static fromString(t,e){null==e&&(e="fixed");let r=E.from(e),o=y(t,r.decimals);!r.signed&&o.lt(g)&&p("unsigned value cannot be negative","overflow","value",t);let n=null;return r.signed?n=o.toTwos(r.width).toHexString():(n=o.toHexString(),n=(0,d.bj)(n,r.width/8)),new k(f,n,v(o,r.decimals),r)}static fromBytes(t,e){null==e&&(e="fixed");let r=E.from(e);if((0,d.k9)(t).length>r.width/8)throw Error("overflow");let o=h.gH.from(t);return r.signed&&(o=o.fromTwos(r.width)),new k(f,o.toTwos(+!r.signed+r.width).toHexString(),v(o,r.decimals),r)}static from(t,e){if("string"==typeof t)return k.fromString(t,e);if((0,d.aY)(t))return k.fromBytes(t,e);try{return k.fromValue(t,0,e)}catch(t){if(t.code!==c.Vy.errors.INVALID_ARGUMENT)throw t}return u.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}}let A=k.from(1),_=k.from("0.5");new c.Vy("units/5.7.0");var S=r(2183);let I=i.Ay.div.withConfig({componentId:"sc-2ac931f1-0"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),C=i.Ay.div.withConfig({componentId:"sc-2ac931f1-1"})(["display:flex;flex-direction:column;align-items:center;width:100%;background-color:#1a1a1a;border-radius:16px;padding:16px;box-shadow:0 8px 24px rgba(0,0,0,0.25);transition:all 0.3s ease;border:1px solid #333;&:hover{box-shadow:0 12px 28px rgba(0,0,0,0.4);transform:translateY(-2px);}"]),F=i.Ay.h3.withConfig({componentId:"sc-2ac931f1-2"})(["font-size:16px;margin-bottom:12px;color:#00EA90;border-bottom:1px solid #333;padding-bottom:8px;font-weight:700;width:100%;text-align:center;"]),N=i.Ay.div.withConfig({componentId:"sc-2ac931f1-3"})(["display:flex;flex-direction:column;align-items:center;width:100%;margin-top:8px;"]),T=i.Ay.div.withConfig({componentId:"sc-2ac931f1-4"})(['font-family:"Roboto Mono",monospace;font-size:12px;background-color:#212121;padding:6px 12px;border-radius:8px;margin-top:6px;word-break:break-all;text-align:center;color:#ffffff;']),U=i.Ay.div.withConfig({componentId:"sc-2ac931f1-5"})(["background-color:",";color:white;font-size:12px;font-weight:600;padding:4px 10px;border-radius:20px;display:inline-flex;align-items:center;margin-top:12px;&:before{content:'';display:inline-block;width:6px;height:6px;background-color:",";border-radius:50%;margin-right:6px;}"],t=>t.isCorrectNetwork?"#00EA90":"#ef4444",t=>t.isCorrectNetwork?"#ffffff":"#fca5a5"),j=i.Ay.button.withConfig({componentId:"sc-2ac931f1-6"})(["background:linear-gradient(135deg,#00EA90 0%,#00c070 100%);color:white;border:none;padding:10px 16px;font-size:14px;font-weight:bold;border-radius:12px;cursor:pointer;transition:all 0.2s;width:100%;box-shadow:0 4px 12px rgba(0,0,0,0.3);&:hover{transform:translateY(-2px);box-shadow:0 6px 16px rgba(0,234,144,0.3);}&:active{transform:translateY(1px);}&:disabled{background:linear-gradient(135deg,#465673 0%,#2c3e66 100%);cursor:not-allowed;transform:none;box-shadow:none;}"]),H=(0,i.Ay)(j).withConfig({componentId:"sc-2ac931f1-7"})(["background:linear-gradient(135deg,#6b7280 0%,#4b5563 100%);box-shadow:0 4px 12px rgba(0,0,0,0.3);margin-top:12px;&:hover{box-shadow:0 6px 16px rgba(75,85,99,0.3);}"]),P=(0,i.Ay)(j).withConfig({componentId:"sc-2ac931f1-8"})(["background:linear-gradient(135deg,#f59e0b 0%,#d97706 100%);box-shadow:0 4px 12px rgba(0,0,0,0.3);margin-top:12px;&:hover{box-shadow:0 6px 16px rgba(245,158,11,0.3);}"]),R=i.Ay.div.withConfig({componentId:"sc-2ac931f1-9"})(["background-color:#332b16;border-left:4px solid #f59e0b;padding:8px 12px;margin-top:12px;border-radius:8px;color:#fdba74;font-size:12px;width:100%;text-align:center;"]),V=()=>{let[t,e]=(0,n.useState)(null),[r,i]=(0,n.useState)(null),[a,d]=(0,n.useState)(null),[c,m]=(0,n.useState)(null),[h,u]=(0,n.useState)(null),[f,g]=(0,n.useState)(!1),[w,p]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let t=new(l())({cacheProvider:!0,providerOptions:{},theme:{background:"#1a1a1a",main:"#00EA90",secondary:"#00c070",border:"#333",hover:"#212121"}});e(t),t.cachedProvider&&x(t)},[]),(0,n.useEffect)(()=>{r&&a&&y()},[r,a]);let x=async t=>{try{g(!0);let e=await t.connect(),r=new s.j(e);i(r);let o=await r.listAccounts();o.length>0&&(d(o[0]),window.dispatchEvent(new CustomEvent("wallet_connected",{detail:{address:o[0]}})),localStorage.setItem("walletConnected","true"),localStorage.setItem("walletAddress",o[0])),e.on("accountsChanged",E),e.on("chainChanged",k),e.on("disconnect",A)}catch(t){console.error("Error connecting wallet:",t)}finally{g(!1)}},b=async()=>{t&&t.clearCachedProvider(),i(null),d(null),m(null),u(null),localStorage.removeItem("walletConnected"),localStorage.removeItem("walletAddress"),window.dispatchEvent(new Event("wallet_disconnected"))},y=async()=>{try{let t=await r.getBalance(a);m(function(t){return v(t,18)}(t));let e=await r.getNetwork();u(e)}catch(t){console.error("Error updating balance and network:",t)}},E=t=>{t.length>0?(d(t[0]),localStorage.setItem("walletAddress",t[0]),window.dispatchEvent(new CustomEvent("wallet_connected",{detail:{address:t[0]}})),y()):b()},k=()=>{window.location.reload()},A=()=>{b()},_=async()=>{if(r)try{if(p(!0),r.provider&&r.provider.request)try{await r.provider.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x".concat(S.W.chainId.toString(16))}]})}catch(t){if(4902===t.code)await r.provider.request({method:"wallet_addEthereumChain",params:[{chainId:"0x".concat(S.W.chainId.toString(16)),chainName:S.W.networkName,nativeCurrency:{name:"TARA",symbol:"TARA",decimals:18},rpcUrls:[S.W.rpcUrl],blockExplorerUrls:["https://explorer.taraxa.io"]}]});else throw t}else alert("Please manually switch to the ".concat(S.W.networkName," in your wallet."))}catch(t){console.error("Error switching network:",t),alert("Failed to switch to ".concat(S.W.networkName,". Please try manually switching in your wallet."))}finally{p(!1)}},V=h&&h.chainId===S.W.chainId;return(0,o.jsx)(I,{children:(0,o.jsx)(C,{children:a?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(N,{children:[(0,o.jsx)(T,{children:"".concat(a.substring(0,6),"...").concat(a.substring(a.length-4))}),c&&(0,o.jsxs)("div",{style:{marginTop:"6px",fontSize:"12px"},children:[parseFloat(c).toFixed(4)," ",(null==h?void 0:h.chainId)===S.W.chainId?"TARA":"ETH"]}),(0,o.jsx)(U,{isCorrectNetwork:V,children:h?h.chainId===S.W.chainId?S.W.networkName:({1:"Ethereum Mainnet",3:"Ropsten Testnet",4:"Rinkeby Testnet",5:"Goerli Testnet",42:"Kovan Testnet",56:"Binance Smart Chain",137:"Polygon Mainnet",80001:"Polygon Mumbai",841:"Taraxa Mainnet"})[h.chainId]||"Chain ID: ".concat(h.chainId):"Unknown Network"})]}),!V&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(R,{children:["Switch to ",S.W.networkName]}),(0,o.jsx)(P,{onClick:_,disabled:w,children:w?"Switching...":"Switch Network"})]}),(0,o.jsx)(H,{onClick:b,children:"Disconnect"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(F,{children:"Connect Wallet"}),(0,o.jsx)(j,{onClick:()=>{t&&x(t)},disabled:f,children:f?"Connecting...":"Connect Wallet"})]})})})}}}]);